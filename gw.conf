# Archivo gw.conf
#
# Configuración del Gateway VAMP
#
# Autor y fecha: Bernardo Yaser León Ávila, 2024-06-10
#
# Versión: 1.0
#
# Contenido del archivo:
# Este archivo contiene la configuración del Gateway VAMP.
# 
# Forma de utilizarse:
# Este archivo debe ser colocado en el sistema de archivos del dispositivo
# (LittleFS o FAT32) en la SD en la ruta `/gw.conf` o de lo contrario no será
# reconocido. Puede ser creado y editado con cualquier editor de texto.
#
# Carga en el arranque:
# Este archivo es leído por el programa en el arranque y comparado con la 
# configuración actual del sistema contenida en la memoria interna. Si hay
# diferencias, la configuración del archivo se copia en la memoria interna
# y se utiliza a partir de ese momento. Si no hay diferencias, o el archivo 
# no existe, se utiliza la configuración de la memoria interna.
#
# Formato general
# - Cada línea es una entrada key=value.
# - Las líneas vacías se ignoran.
# - Los comentarios explicativos deben comenzar con '#' y serán
#   ignorados por el parser en tiempo de ejecución.
# - Si desea desactivar temporalmente un parámetro (mantenerlo como
#   referencia) puede prefijarlo con ';' en lugar de eliminarlo. El
#   cargador lo tratará como una línea no válida para parsear y lo
#   ignorará (esto facilita mantener ejemplos dentro del archivo).
#
# Seguridad y responsabilidad
# - No comentes ni subas tokens sensibles a repositorios públicos.
# - Si usas vamp_gw_token, mantenlo fuera de copias públicas o utiliza
#   mecanismos seguros para inyectarlo en tiempo de despliegue.
# - Este archivo puede contener datos sensibles (credenciales WiFi,
#   tokens de autenticación, etc.). Protégelo adecuadamente.
# - El autor no se hace responsable del uso indebido de este archivo
#
#
# ------------------ Configuración del Gateway VAMP ------------------
# Este bloque contiene parámetros generales del Gateway que serán utilizados
# en la comunicación con el vreg y en la identificación del dispositivo.
#
# Identificador único del Gateway. Debe ser único en la red VAMP.
# Nombre del Gateway. Puede ser cualquier cadena alfanumérica sin espacios.
# Sirve para ser identificado por su propietario dentro de su panel de control.
# No tiene que ser único en la red VAMP, pero se recomienda que lo sea dentro
# de un dominio.
;vamp_gw_name=Gateway_Test_01
#
# ID único del Gateway en la red VAMP. 
# Puede ser cualquier cadena alfanumérica sin espacios.
# !!! IMPORTANTE !!!
# Este valor será utilizado por el vreg para identificar el Gateway en toda
# la red VAMP y será provisto por una autoridad central, cambiarlo puede
# causar conflictos si ya existe otro Gateway con el mismo ID y el Gateway
# se registrará como un nuevo dispositivo
vamp_gw_id=GW_TEST_01
#
# URL del servicio REST del vreg para la sincronización de datos.
# Debe incluir el protocolo (http o https) y la ruta completa.
vamp_vreg_resource=http://10.1.111.249:8000/vreg/api/v1/gateway/sync/
#
# Token de autenticación para el Gateway. Proporcionado por el vreg.
;vamp_gw_token=TEST_TOKEN_1234567890
#
# Intervalo de sincronización con el vreg en segundos. Si no está definido,
# se usará el valor por defecto en el firmware o la sincronización se realizará 
# por eventos.
;sync_interval=300

# ------------------ Configuración del enlace -------------------
#
# Configuración del módulo NRF24L01+
# Parámetros del módulo NRF24L01+ para la comunicación con los dispositivos
# Nota: si no se definen, se usan los valores por defecto en el código.
# !!! IMPORTANTE !!!
# Asegúrate de que los parámetros aquí definidos coincidan con los
# configurados en los dispositivos que se comunicarán con el Gateway.
# Si hay discrepancias, la comunicación fallará. Ante la duda, no tocar.
;nrf_channel=76
;nrf_retries=5
;nrf_retry_delay=15
;nrf_max_payload_size=32

# Configuración de la red WiFi
# Modo de trabajo de la red WiFi. Valores: 
# ap: Trabaja como punto de acceso
# sta: Trabaja como cliente
# apsta: Trabaja como punto de acceso y cliente
# Si no se define, el valor por defecto es 'sta'.
;wifi_mode=ap
#
# Credenciales del punto de acceso WiFi al que el Gateway intentará
# conectarse.
# Nota: si no se definen, el Gateway no podrá conectarse a la red.
wifi_ssid=TP-LINK_B06F78
wifi_password=tplink.cp26
#
# Si el modo es 'ap' o 'apsta', el Gateway creará un punto de acceso
# con las siguientes credenciales:
;wifi_ap_ssid=VAMP_GW_AP
;wifi_ap_password=VampGw2024!
# Nota: Si sta es el modo, estas claves serán ignoradas. Si no se definen,
# se usarán los valores por defecto en el código (VAMP_GW_AP / VampGw2024!).

# ------------------ Configuración de red -------------------
# El gateway soporta DHCP por defecto. Si necesitas IP estática, puedes 
# descomentar las siguientes líneas.
# Modo de asignación de IP. Valores: dhcp | static
# Si no se define, el valor por defecto es 'dhcp'.
;net_mode=static
#
# Valores de red estática. 
# Nota: Si net_mode=dhcp, estos parámetros serán ignorados.
;net_ip=10.1.111.198
;net_gateway=10.1.111.1
;net_subnet=255.255.255.0
;net_dns1=193.254.231.2
;net_dns2=193.254.230.2

# Fin del archivo gw.conf
